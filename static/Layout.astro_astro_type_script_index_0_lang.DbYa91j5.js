function K(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Q(t,r){function n(){t.paused?r.className="control":r.className="control on"}n(),t.addEventListener("playing",()=>{n()}),t.addEventListener("pause",()=>{n()}),r.addEventListener("click",()=>{t.paused?t.play():t.pause()})}var L=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,r=arguments.length;r--;)t+=arguments[r]*arguments[r];return Math.sqrt(t)});function V(){var t=new L(16);return L!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Z(t,r,n,e,o){var s=1/Math.tan(r/2),i;return t[0]=s/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,o!=null&&o!==1/0?(i=1/(e-o),t[10]=(o+e)*i,t[14]=2*o*e*i):(t[10]=-1,t[14]=-2*e),t}var tt=Z;function N(){var t=new L(3);return L!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function nt(t,r,n,e){return t[0]=r,t[1]=n,t[2]=e,t}function et(t,r,n){var e=r[0],o=r[1],s=r[2],i=n[3]*e+n[7]*o+n[11]*s+n[15];return i=i||1,t[0]=(n[0]*e+n[4]*o+n[8]*s+n[12])/i,t[1]=(n[1]*e+n[5]*o+n[9]*s+n[13])/i,t[2]=(n[2]*e+n[6]*o+n[10]*s+n[14])/i,t}(function(){var t=N();return function(r,n,e,o,s,i){var a,d;for(n||(n=3),e||(e=0),o?d=Math.min(o*n+e,r.length):d=r.length,a=e;a<d;a+=n)t[0]=r[a],t[1]=r[a+1],t[2]=r[a+2],s(t,t,i),r[a]=t[0],r[a+1]=t[1],r[a+2]=t[2];return r}})();class ot{constructor(r,n,e){this.width=r,this.height=n,this.components=e,this.points=new Float32Array(r*n*e)}points}function rt(t,r){const{width:n,points:e,components:o}=t,s=t.points.length/n/o;for(let i=0;i<s;i++)for(let a=0;a<n;a++){const d=(i*n+a)*o;r(e,a,i,d)}}const it=.5*(Math.sqrt(3)-1),T=(3-Math.sqrt(3))/6,B=t=>Math.floor(t)|0,I=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]);function Y(t=Math.random){const r=st(t),n=new Float64Array(r).map(o=>I[o%12*2]),e=new Float64Array(r).map(o=>I[o%12*2+1]);return function(s,i){let a=0,d=0,M=0;const A=(s+i)*it,u=B(s+A),v=B(i+A),z=(u+v)*T,W=u-z,F=v-z,h=s-W,c=i-F;let x,m;h>c?(x=1,m=0):(x=0,m=1);const E=h-x+T,P=c-m+T,y=h-1+2*T,f=c-1+2*T,p=u&255,l=v&255;let g=.5-h*h-c*c;if(g>=0){const w=p+r[l],H=n[w],G=e[w];g*=g,a=g*g*(H*h+G*c)}let S=.5-E*E-P*P;if(S>=0){const w=p+x+r[l+m],H=n[w],G=e[w];S*=S,d=S*S*(H*E+G*P)}let C=.5-y*y-f*f;if(C>=0){const w=p+1+r[l+1],H=n[w],G=e[w];C*=C,M=C*C*(H*y+G*f)}return 70*(a+d+M)}}function st(t){const n=new Uint8Array(512);for(let e=0;e<512/2;e++)n[e]=e;for(let e=0;e<512/2-1;e++){const o=e+~~(t()*(256-e)),s=n[e];n[e]=n[o],n[o]=s}for(let e=256;e<512;e++)n[e]=n[e-256];return n}const at=(t,r=4,n=.8,e=2)=>(o,s)=>{let i=0,a=.5;for(let d=0;d<r;d++)i+=t(o,s)*a,o*=e,s*=e,a*=n;return i};Y();var D={exports:{}},ct=D.exports,O;function lt(){return O||(O=1,function(t,r){(function(n,e){t.exports=e()})(ct,function(){return n.importState=function(o){var s=new n;return s.importState(o),s},n;function n(){return function(o){var s=0,i=0,a=0,d=1;o.length==0&&(o=[+new Date]);var M=e();s=M(" "),i=M(" "),a=M(" ");for(var A=0;A<o.length;A++)s-=M(o[A]),s<0&&(s+=1),i-=M(o[A]),i<0&&(i+=1),a-=M(o[A]),a<0&&(a+=1);M=null;var u=function(){var v=2091639*s+d*23283064365386963e-26;return s=i,i=a,a=v-(d=v|0)};return u.next=u,u.uint32=function(){return u()*4294967296},u.fract53=function(){return u()+(u()*2097152|0)*11102230246251565e-32},u.version="Alea 0.9",u.args=o,u.exportState=function(){return[s,i,a,d]},u.importState=function(v){s=+v[0]||0,i=+v[1]||0,a=+v[2]||0,d=+v[3]||0},u}(Array.prototype.slice.call(arguments))}function e(){var o=4022871197,s=function(i){i=i.toString();for(var a=0;a<i.length;a++){o+=i.charCodeAt(a);var d=.02519603282416938*o;o=d>>>0,d-=o,d*=o,o=d>>>0,d-=o,o+=d*4294967296}return(o>>>0)*23283064365386963e-26};return s.version="Mash 0.9",s}})}(D)),D.exports}var ft=lt();const dt=K(ft),ut=dt("B"),ht=Y(ut),mt=at(ht,2);function pt(t,r,n){const e=t.createLinearGradient(0,0,0,n/4*3);e.addColorStop(0,"#1c014add"),e.addColorStop(.5,"#d40485dd"),e.addColorStop(.71,"#fd9554ee"),e.addColorStop(1,"#000000ee");function o(){t.fillStyle=e,t.fillRect(0,0,r,n/4*3)}const a=Math.max(4,Math.min(r/16|0,64)),A=Math.max(32,Math.min(n/16|0,64)),u=new ot(a,A,3);function v(F){const h=N();rt(u,(c,x,m,E)=>{const y=Math.floor(F*.02),f=.03,l=6*Math.max(0,Math.sin((m-y)/210)),S=Math.sin((m-y)/10)*l,C=Math.max(f-1,-Math.cos(((x+S)/u.width-.5)*Math.PI*2))+1,w=.15,G=Math.abs(Math.sin((m-y)/220)),b=2+mt(x*w,(m-y)*w)*5*G,J=C*b;nt(h,-u.width/2+x,-5+J,5+(u.height-m)-F*.02%1),et(h,h,z),h[0]=(1+h[0])/2*r,h[1]=(1+h[1])/2*n,c[E]=h[0],c[E+1]=h[1],c[E+2]=(u.height-m+y%1)/u.height})}const z=tt(V(),45,r/n,.1,200);function W(){const{width:F,height:h,points:c,components:x}=u;function m(f,p){return(p*F+f)*x}function E(f,p){const l=m(f,p);t.moveTo(c[l],c[l+1])}function P(f,p){const l=m(f,p);t.lineTo(c[l],c[l+1])}function y(f,p){const l=[m(f,p),m(f+1,p),m(f+1,p+1),m(f,p+1)];if(!l.some(b=>c[b]>=0)||!l.some(b=>c[b]<=r)||!l.some(b=>c[b+1]>=0)||!l.some(b=>c[b+1]<=n))return!0;const g=c[l[1]]-c[l[0]],S=-c[l[1]+1]- -c[l[0]+1],C=c[l[3]]-c[l[0]],w=-c[l[3]+1]- -c[l[0]+1],H=c[l[2]]-c[l[0]],G=-c[l[2]+1]- -c[l[0]+1],R=g*w-S*C,k=g*G-S*H;return R<0&&k<0}t.strokeStyle="purple",t.fillStyle="#03020afa";for(let f=0;f<h-1;f++){const p=c[m(0,f)+2],l=.8;t.globalAlpha=1-Math.max(0,p-l)*(1/(1-l));for(let g=0;g<F-1;g++)y(g,f)||(t.beginPath(),E(g,f),P(g+1,f),P(g+1,f+1),P(g,f+1),t.closePath(),t.fill(),t.stroke())}}return function(h){o(),v(h),W()}}let j=0;function _(){const t=location.hash.match(/freeze=(\d+)/);j=t?+t[1]*1e3:0}window.addEventListener("hashchange",_);_();function gt(t,r){function n(){const i=t.getBoundingClientRect();return t.width=Math.max(i.width,window.innerWidth)|0,t.height=Math.max(i.height,window.innerHeight)|0,pt(r,t.width,t.height)}let e=n();window.addEventListener("resize",()=>{e=n()});const o=performance.now();function s(){const i=j||performance.now()-o;e(i),requestAnimationFrame(s)}requestAnimationFrame(s)}const q=document.getElementById("canvas");if(!(q instanceof HTMLCanvasElement))throw new Error("c is not a canvas");const $=q.getContext("2d",{alpha:!1});if($===null)throw new Error("canvas does not support context 2d");gt(q,$);const U=document.getElementById("music");if(!(U instanceof HTMLAudioElement))throw new Error("music is not audio");const X=document.getElementById("volume");if(!(X instanceof HTMLDivElement))throw new Error("volume is not div");Q(U,X);
